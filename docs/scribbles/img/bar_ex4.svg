<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="300" viewBox="0 0 900 300" xmlns="http://www.w3.org/2000/svg">

  <!-- 화살표 마커 정의 -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1f77b4"/>
    </marker>
    <pattern id="hatch" patternUnits="userSpaceOnUse" width="12" height="12" patternTransform="rotate(25)">
      <line x1="0" y1="0" x2="0" y2="12" stroke="#888" stroke-width="2"/>
    </pattern>
    <style>
      .title{font: 600 16px sans-serif; fill:#222}
      .small{font: 12px sans-serif; fill:#333}
      .label{font: 14px sans-serif; fill:#222}
    </style>
  </defs>

  <!-- 제목 -->
  <text x="450" y="24" text-anchor="middle" class="title">예제 4 — 변위제어(Displacement Control, P–Δ)</text>

  <!-- 바닥선 -->
  <line x1="80" y1="260" x2="820" y2="260" stroke="#444" stroke-width="2"/>

  <!-- 고정단(좌측) -->
  <rect x="100" y="240" width="30" height="20" fill="#bbb" stroke="#777"/>
  <rect x="70"  y="240" width="30" height="20" fill="url(#hatch)" stroke="#999"/>

  <!-- 막대(세워진 부재) -->
  <rect x="160" y="60" width="60" height="180" fill="#a9c7ff" stroke="#5b8bd9" stroke-width="2"/>

  <!-- 길이 표시(대략) -->
  <line x1="235" y1="60" x2="235" y2="240" stroke="#999" stroke-dasharray="4,6"/>
  <text x="255" y="155" class="small">L = 2.0 m</text>

  <!-- 축방향 변위 제어: 세로 화살표 (↑ 인장/↓ 압축, 여기선 ↑ 예시) -->
  <line x1="260" y1="210" x2="260" y2="90" stroke="#1f77b4" stroke-width="3" marker-end="url(#arrow)"/>
  <text x="275" y="120" class="label">변위 제어 Δ (축방향)</text>

  <!-- 파라미터/결과 메모 박스 -->
  <rect x="520" y="70" rx="6" ry="6" width="300" height="80" fill="#f7f7f7" stroke="#ccc"/>
  <text x="535" y="92" class="small">E = 200 GPa, A = 0.0001 m² (10×10 mm²)</text>
  <text x="535" y="110" class="small">L = 2.0 m, σᵧ = 250 MPa, σᵤ = 450 MPa</text>
  <text x="535" y="128" class="small">변위 속도: 1.0 mm/s (변위제어)</text>

  <rect x="520" y="160" rx="6" ry="6" width="300" height="90" fill="#f7f7f7" stroke="#ccc"/>
  <text x="535" y="182" class="small">개념 결과(근사):</text>
  <text x="535" y="200" class="small">항복 Δᵧ ≈ 2.50 mm (P ≈ 25 kN)</text>
  <text x="535" y="218" class="small">피크 Δᵤ ≈ 6.00 mm (P ≈ 45 kN)</text>
  <text x="535" y="236" class="small">파괴 Δ_f ≈ 12.00 mm (P → 0 kN)</text>

  <!-- 주석 -->
  <text x="450" y="290" text-anchor="middle" class="small" fill="#666">
    개념도(스케일 무관). P–Δ 곡선은 스크립트가 생성한 ex4_p_delta.png 참고.
  </text>
</svg>